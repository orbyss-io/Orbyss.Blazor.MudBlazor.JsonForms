@using global::MudBlazor;

<MudGrid Justify="Justify.FlexStart">
    <MudItem xs="12">
        <MudPaper Class="pa-2" Elevation="0">
            <MudGrid Justify="Justify.FlexEnd">
                @if (!string.IsNullOrWhiteSpace(Title))
                {
                    <MudItem xs="12">
                        <MudText Typo=Typo.subtitle2 Align="Align.Left">
                            @Title
                        </MudText>

                        @if (!ReadOnly)
                        {
                            <MudItem Style="padding-left: 15px" xs="1">
                                <MudIconButton Color="Color.Success" OnClick="@OnAddClicked" Icon="@Icons.Material.Filled.Add"></MudIconButton>
                            </MudItem>
                        }

                        @if(!string.IsNullOrWhiteSpace(Error))
                        {
                            <MudText Color=Color.Error Typo=Typo.body2 Align="Align.Left">
                                @Error
                            </MudText>
                        }
                    </MudItem>
                }

                <MudItem xs="@(ReadOnly ? 12 : 11)">
                    <MudPaper Class="pa-2" Elevation="0">
                        @ChildContent
                    </MudPaper>
                </MudItem>

            </MudGrid>
        </MudPaper>
    </MudItem>
</MudGrid>

@code {
    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    [Parameter]
    public EventCallback OnAddClicked { get; set; }

    [Parameter]
    public bool ReadOnly { get; set; }

    [Parameter]
    public string? Title { get; set; }

    [Parameter]
    public string? Error { get; set; }
}
